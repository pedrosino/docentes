<div class="container">

  <%= simple_form_for @area, html: { class: 'form-horizontal are-you-sure no-submit-on-enter' } do |f| %>
    <%= render 'shared/error_messages', object: f.object %>

    <div class="bloco-inicial">
      <%= f.input :tipo, required: true, as: :select, collection: [["Concurso Público","concurso"],["Processo Seletivo Simplificado","processo"]] %>
      <%= f.input :nome, required: true %>
      <%= f.input :subarea %>
      <%= f.input :campus, required: true, collection: ["Educação Física","Monte Carmelo","Patos de Minas","Pontal", "Santa Mônica", "Umuarama"] %>
      <%= f.input :qualificacao, required: true %>
      <%= f.input :regime, required: true, as: :select, collection: [["20 horas","20"], ["40 horas","40"], ["Dedicação Exclusiva","DE"]].map{|regime| [regime[0], regime[1]]} %>
      <%= f.input :vagas, required: true %>
      <%= f.input :prorrogar, label: "Prorrogar inscrições?", hint: "Por mais 7 (sete) dias" %>
      <%= f.input :qualif_prorrogar, label: "Alterar qualificação para" %>
    </div>

    <div class="prova-escrita">
      <h3>Prova Escrita</h3>
      <div class="panel panel-default escrita">
        <div class="panel-heading">
          Critérios de correção da Prova Escrita
        </div>
        <div class="panel-body">
          <table class="table criterios criterios-escrita">
            <thead>
              <tr>
                <td class="borda">Critério</td>
                <td class="borda">Descrição</td>
                <td class="borda">Valor</td>
                <td></td>
              </tr>
            </thead>
            <tbody>
              <%= f.fields_for :criterios, @area.criterios.where(tipo_prova: 'escrita') do |options_form| %>
                <%= render 'criterio_fields', f: options_form, tipo: "escrita" %>
              <% end %>
            </tbody>
          </table>

          <div class="links">
            <%= link_to_add_association button_tag(icon("plus", "Critério"), type: "button", class: "btn btn-primary add"), f, :criterios, render_options: { locals: { tipo: 'escrita' } }, data: { association_insertion_node: '.criterios-escrita', association_insertion_method: 'append' } %>
          </div>
        </div>
      </div>
    </div>

    <div class="prova-didatica">
      <h3>Prova Didática</h3>

      <%= f.input :prova_didatica, label: "Haverá prova didática pedagógica?" %>
      <div class="panel panel-default didatica">
        <div class="panel-heading">
          Critérios de correção da Prova Didática Pedagógica
        </div>
        <div class="panel-body">
          <table class="table criterios criterios-didatica">
            <thead>
              <tr>
                <td class="borda">Critério</td>
                <td class="borda">Descrição</td>
                <td class="borda">Valor</td>
                <td></td>
              </tr>
            </thead>
            <tbody>
              <%= f.fields_for :criterios, @area.criterios.where(tipo_prova: 'didatica') do |options_form| %>
                <%= render 'criterio_fields', f: options_form, tipo: "didatica" %>
              <% end %>
            </tbody>
          </table>

          <div class="links">
            <%= link_to_add_association button_tag(icon("plus", "Critério"), type: "button", class: "btn btn-primary add"), f, :criterios, render_options: { locals: { tipo: 'didatica' } }, data: { association_insertion_node: '.criterios-didatica', association_insertion_method: 'append' } %>
          </div>
        </div>
      </div>

      <%= f.input :prova_procedimental, label: "Haverá prova didática procedimental?" %>
      <div class="panel panel-default procedimental">
        <div class="panel-heading">
          Critérios de correção da Prova Didática Procedimental
        </div>
        <div class="panel-body">
          <table class="table criterios criterios-procedimental">
            <thead>
              <tr>
                <td class="borda">Critério</td>
                <td class="borda">Descrição</td>
                <td class="borda">Valor</td>
                <td></td>
              </tr>
            </thead>
            <tbody>
              <%= f.fields_for :criterios, @area.criterios.where(tipo_prova: 'procedimental') do |options_form| %>
                <%= render 'criterio_fields', f: options_form, tipo: "procedimental" %>
              <% end %>
            </tbody>
          </table>

          <div class="links">
            <%= link_to_add_association button_tag(icon("plus", "Critério"), type: "button", class: "btn btn-primary add"), f, :criterios, render_options: { locals: { tipo: 'procedimental' } }, data: { association_insertion_node: '.criterios-procedimental', association_insertion_method: 'append' } %>
          </div>
        </div>
      </div>
    </div>

    <div class="titulos">
      <h3>Análise de Títulos</h3>
      <div class="panel panel-default titulos">
        <div class="panel-heading">
          Valoração das atividades didáticas e/ou profissionais nos últimos 5 (cinco) anos
        </div>
        <div class="panel-body">
          <table class="table titulos atividades">
            <thead>
              <tr>
                <td class="borda">Descrição</td>
                <td class="borda">Unidade de medida</td>
                <td class="borda">Pontuação individual</td>
                <td class="borda">Pontuação máxima</td>
                <td></td>
              </tr>
            </thead>
            <tbody>
              <%= f.fields_for :titulos, @area.titulos.where(tipo: 'atividades') do |options_form| %>
                <%= render 'titulo_fields', f: options_form, tipo: "atividades" %>
              <% end %>
            </tbody>
          </table>

          <div class="links">
            <%= link_to_add_association button_tag(icon("plus", "Item"), type: "button", class: "btn btn-primary add"), f, :titulos, render_options: { locals: { tipo: 'atividades' } }, data: { association_insertion_node: '.atividades', association_insertion_method: 'append' } %>
          </div>
        </div>
      </div>

      <div class="panel panel-default titulos">
        <div class="panel-heading">
          Valoração da produção científica e/ou artística nos últimos 5 (cinco) anos
        </div>
        <div class="panel-body">
          <table class="table titulos producao">
            <thead>
              <tr>
                <td class="borda">Descrição</td>
                <td class="borda">Unidade de medida</td>
                <td class="borda">Pontuação individual</td>
                <td class="borda">Pontuação máxima</td>
                <td></td>
              </tr>
            </thead>
            <tbody>
              <%= f.fields_for :titulos, @area.titulos.where(tipo: 'producao') do |options_form| %>
                <%= render 'titulo_fields', f: options_form, tipo: "producao" %>
              <% end %>
            </tbody>
          </table>

          <div class="links">
            <%= link_to_add_association button_tag(icon("plus", "Item"), type: "button", class: "btn btn-primary add"), f, :titulos, render_options: { locals: { tipo: 'producao' } }, data: { association_insertion_node: '.producao', association_insertion_method: 'append' } %>
          </div>
        </div>
      </div>
    </div>

    <%= link_to icon("arrow-left", "Cancelar"), areas_path, class: "btn btn-warning" %>
    <button type="submit" class="btn btn-success" id="salvar"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Salvar</button>
    <button type="button" class="btn btn-primary" id="avancar">Avançar</button>
    <%= link_to @area, method: :delete, data: { confirm: "Tem certeza que deseja excluir?" }, class: "btn btn-danger" do %>
      <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Excluir
    <% end %>
  <% end %>

</div>
<script type="text/javascript">
window.fase = 1;
</script>
