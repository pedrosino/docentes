<div class="container">

  <%= simple_form_for @area, html: { class: 'form-horizontal are-you-sure no-submit-on-enter' } do |f| %>
    <%= render 'shared/error_messages', object: f.object %>

    <%= f.input :proximo, as: :hidden, input_html: { value: "titulos" } %>

    <div class="prova-didatica">
      <h3>Prova Didática</h3>

      <%= f.input :prova_didatica, label: "Haverá prova didática pedagógica?" %>
      <div class="panel panel-default didatica">
        <div class="panel-heading">
          Critérios de correção da Prova Didática Pedagógica
        </div>
        <div class="panel-body">
        <div class="mensagem-erro"></div>
          <table class="table criterios criterios-didatica">
            <thead>
              <tr>
                <td class="borda">Critério</td>
                <td class="borda">Descrição</td>
                <td class="borda">Valor</td>
                <td></td>
              </tr>
            </thead>
            <tbody>
              <%= f.fields_for :criterios, @area.criterios.select{ |c| c.tipo_prova == 'didatica' } do |options_form| %>
                <%= render 'criterio_fields', f: options_form, tipo: "didatica" %>
              <% end %>
            </tbody>
          </table>

          <div class="links">
            <%= link_to_add_association button_tag(icon("plus", "Critério"), type: "button", class: "btn btn-primary add"), f, :criterios, render_options: { locals: { tipo: 'didatica' } }, data: { association_insertion_node: '.criterios-didatica', association_insertion_method: 'append' } %>
          </div>
        </div>
      </div>

      <%= f.input :prova_procedimental, label: "Haverá prova didática procedimental?" %>
      <div class="panel panel-default procedimental">
        <div class="panel-heading">
          Critérios de correção da Prova Didática Procedimental
        </div>
        <div class="panel-body">
          <table class="table criterios criterios-procedimental">
            <thead>
              <tr>
                <td class="borda">Critério</td>
                <td class="borda">Descrição</td>
                <td class="borda">Valor</td>
                <td></td>
              </tr>
            </thead>
            <tbody>
              <%= f.fields_for :criterios, @area.criterios.select{ |c| c.tipo_prova == 'procedimental' } do |options_form| %>
                <%= render 'criterio_fields', f: options_form, tipo: "procedimental" %>
              <% end %>
            </tbody>
          </table>
          <div class="mensagem-erro"></div>

          <div class="links">
            <%= link_to_add_association button_tag(icon("plus", "Critério"), type: "button", class: "btn btn-primary add"), f, :criterios, render_options: { locals: { tipo: 'procedimental' } }, data: { association_insertion_node: '.criterios-procedimental', association_insertion_method: 'append' } %>
          </div>
        </div>
      </div>
    </div>

    <%= link_to icon("arrow-left", "Cancelar"), areas_path, class: "btn btn-warning" %>
    <button type="submit" class="btn btn-success" id="salvar"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Avançar</button>
    <%= link_to @area, method: :delete, data: { confirm: "Tem certeza que deseja excluir?" }, class: "btn btn-danger" do %>
      <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Excluir
    <% end %>
  <% end %>

</div>
<script type="text/javascript">
window.fase = 1;
</script>
